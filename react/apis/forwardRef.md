# forwardRef

**목차**

- [레퍼런스](#레퍼런스)
  - [forwardRef(render)](#forwardrefrender)
  - [render 함수](#render-함수)
- [사용법](#사용법)
  - [부모 컴포넌트에 DOM 노드 노출하기](#부모-컴포넌트에-dom-노드-노출하기)
  - [여러 컴포넌트를 통해 ref 전달하기](#여러-컴포넌트를-통해-ref-전달하기)
  - [DOM 노드 대신 명령형 핸들 노출하기](#dom-노드-대신-명령형-핸들-노출하기)
- [문제 해결](#문제-해결)
  - [컴포넌트가 forwardRef로 감싸져 있지만, 컴포넌트의 ref는 항상 null입니다.](#컴포넌트가-forwardref로-감싸져-있지만-컴포넌트의-ref는-항상-null입니다)

## 레퍼런스

### forwardRef(render)

### render 함수

1. > 부모 컴포넌트가 ref를 전달하지 않은 경우 null이 됩니다.

   - 어라 전 다른 props처럼 undefined인 줄 알았어요.
   - 보통 useRef 쓰면 초기값에 null을 넣으니까 초기값이 당연히 null이구나 하고 착각했네요 😅
   - 엇 저도 null을 넣어서 null로 초기화된다고 생각했어요

## 사용법

### 부모 컴포넌트에 DOM 노드 노출하기

1. > 일반적으로 버튼이나 텍스트 input과 같이 재사용할 수 있는 저수준 컴포넌트에서 DOM 노드를 노출하지만, 아바타나 댓글 같은 애플리케이션 레벨의 컴포넌트에서는 노출하고 싶지 않을 것입니다.

   - 디자인 시스템 컴포넌트 개발 시에 forwardRef를 사용했었는데 같은 이유로 고민했어서 너무 공감가네요..! 저같은 경우엔 checkbox 컴포넌트가 복잡하게 구성되어 있어서 ref를 어디에 붙여야 할지가 고민됐어요. (결국 보이지 않게 처리된 checkbox input element에다가 달았읍니다)
   - 맞아요! 저도 Input 컴포넌트 만들 때 안 보이는 input 태그에 붙였던 것 같습니다. 라벨, 텍스트 필드, 헬퍼 메시지로 구성되어 있어서 고민했었습니다.

### 여러 컴포넌트를 통해 ref 전달하기

### DOM 노드 대신 명령형 핸들 노출하기

## 문제 해결

### 컴포넌트가 forwardRef로 감싸져 있지만, 컴포넌트의 ref는 항상 null입니다.

1. > showInput이 false이면 ref가 어떤 노드로도 전달되지 않으며 MyInput의 ref는 비어 있게 됩니다. 이 예제의 Panel과 같이 조건이 다른 컴포넌트 안에 숨겨져 있는 경우 특히 이 점을 놓치기 쉽습니다.

   - 정말 이런 경우에는 헤맬 수 있을 것 같아서 리마인드 용으로 남깁니다
   - 딱 봤을 때 조건부 렌더링처럼 보이지 않으니까 착각할 수 있을 것 같아요
