# useSyncExternalStore

**목차**

- [레퍼런스](#레퍼런스)
- [사용법](#사용법)

## 레퍼런스

## 사용법

### 외부 store 구독

### 브라우저 API 구독

1. > 브라우저 API 구독
    - 개인적으로는 이게 조금 더 실용적인 사용 사례라는 생각이 들어요..! 이전 내용처럼 상태 구독용으로 사용하기에는 상태 관리 라이브러리들도 그런 기능을 제공할텐데 굳이 useSyncExternalStore 훅을 사용한다고..? 싶었거든요 

2. > navigator.onLine
    - 전에 이 API를 사용할 일이 있었는데 useEffect로 잘 동작했던 것 같습니다. 근데 설명 보니까 useSyncExternalStore를 사용해야 정상적으로 동작할 것 같은데 😔
    서로 어떻게 다른지 한 번 확인해보고 말씀드릴게요

### custom Hook으로 로직 추출하기

### 서버 렌더링 지원 추가

1. > ``` function getServerSnapshot() { return true; // 서버에서 생성된 HTML에는 항상 "Online"을 표시합니다.} ```
    - 서버 측에서 보낼 때 항상 온라인으로 표시하는 건 인터넷이 연결된 상태니까 HTML을 받을 수 있다고 가정한 거겠죠?

2. > 이를 수행하는 일반적인 방법 중 하나는 서버 렌더링 중에 window.MY_STORE_DATA와 같은 글로벌을 설정하는 <script> 태그를 생성한 다음 클라이언트에서 getServerSnapshot에서 해당 글로벌을 읽어오는 것입니다. 외부 스토어에서 이를 수행하는 방법에 대한 지침을 제공해야 합니다.
    - 글로벌 변수 설정할 일은 앞으로 없을 줄 알았는데 최신 리액트에서 다시 만나게 될 줄이야 😅
